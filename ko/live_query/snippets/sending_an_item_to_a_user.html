<!-- Sending an Item to a User -->
<article class="live-query">
	<header>
		사용자에게 아이템 보내기
	</header>
	<summary>
		여기서는 호출자의 지갑에서 사용자에게 아이템을 보내는 방법에 대해 알아봅니다.
	</summary>
	<div>
		<p>
			액세스 토큰이 필요한 이 방법은, 클라우드 플랫폼에 엑세스 토큰 소유자의 엔진 지갑에서 허용 또는 거부 될 새 아이템 전송 요청을 하도록 요청하는 것입니다.
			별도의 서비스에서 전송 요청을 수락하거나 거부하는 두 번째 요소는 잠재적 악의적 개발자, 서버 프록시 또는 손상된 시스템으로부터 보호하기 위한 보안 기능입니다.
		</p>

		<section class="example">
			<p>
				클라우드 플랫폼에서 아이템 전송 요청을 만들려면 발신자 ID의 식별자, 수신자 ID의 식별자, 전송한 아이템의 식별자 및 전송할 항목의 양을 지정해야 합니다.
				요청이 발신자의 지갑에 나타나고 승인되면, 아이템은 발신 ID에 연결된 이더리움 주소에서 수신인의 ID와 연결된 이더리움 주소로 이동합니다.
				이 작업을 성공적으로 수행하기 위해, 발신자는 가스 비용을 충당하기 위한 약간의 이더를 필요로 합니다. 또한, 개발자가 설정한 경우 일부 엔진 코인이 필요할 수도
				있습니다. 이를 수행하기 위한 GraphQL 쿼리는 다음과 같습니다:
			</p>

			<p>
				클라우드 플랫폼에 호출할 때에는 작동할 특정 App을 지정해야 합니다. 이는 그러한 콜을 보여줍니다. 앱은 다음과 같은 헤더를 설정하여 지정됩니다:
			<pre>X-App-Id</pre>
			이 값은 사용할 앱 ID 입니다. “액세스 자격 증명 얻기” 호출에 대한 응답으로 받은 “app_id” 필드에서 잠재적 App 식별자를 찾을 수 있습니다.
			</p>

			<p>
				이 세션에서 사용중인 현재 App ID는 다음과 같습니다: <span class="app-id"></span><br/>
				앱을 전환하려면 위의 어플리케이션 탭에서 다른 앱을 선택한 다음 여기로 다시 이동하십시오.
			</p>

			<!--input id="appId" type="text" name="appId" placeholder="App ID"-->

			<pre><code class="query-display language-graphql">mutation sendItem($identityId: Int!, $recipientIdentityId: Int!, $tokenId: String!, $value: Int!) {
  CreateEnjinRequest(type: SEND, identity_id: $identityId, send_token_data: { recipient_identity_id: $recipientIdentityId, token_id: $tokenId, value: $value }) {
    id
    encoded_data
    state
  }
}</code></pre>

			<p>
				‘Submit Query’ 버튼을 누르면 위에 있는 쿼리가 아래에 추가된 파라미터와 함께 클라우드 플랫폼 엔드 포인트에 POST됩니다:
			</p>

			<input class="parameter" type="text" name="identityId" placeholder="Sender Identity ID">
			<br>
			<input class="parameter" type="text" name="recipientIdentityId" placeholder="Recipient Identity ID">
			<br>
			<input class="parameter" type="text" name="tokenId" placeholder="Item ID">
			<br>
			<input class="parameter" type="text" name="value" placeholder="Amount">

			<pre><code class="parameter-display language-json">{}</code></pre>

			<button class="submit-button">Submit Query</button>

			<p>
				다음은 클라우드 플랫폼에 출력된 응답입니다:
			</p>

			<pre><code class="output-display language-json">{}</code></pre>

			<p>
				이 예제 쿼리에서는 발신인이 엔진 지갑을 이용하여 수락하거나 거부할 수 있는 아이템 전송 요청을 만들었습니다. 게임 서버가 게임 내 행동을 기반으로 어떤 아이템을
				플레이어에게 보상을 하도록 하는 등 게임 플레이에 수 많은 용도로 사용될 수 있습니다. Unity SDK에서 이를 실행하기 위한 GraphQL 호출은
				<a href="doxygen/class_enjin_s_d_k_1_1_enjin.html#a1dd110b494d572b3b7eccb671585dbb2" target="_blank">SendCryptoItemRequest(int
				identityID, string tokenID, int recipientID, int value, System.Action&lt;RequestEvent&gt; callback)</a> 입니다.
				이 함수는 아이템 전송과 전송 성공 콜백을 듣기 위한 등록을 요청할 때 사용됩니다. 이 콜백은 ‘지갑 연결하기’에서 나온 예와 유사한 방식으로 사용할 수 있습니다.
			</p>
		</section>
	</div>
</article>
